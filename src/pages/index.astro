---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
---

  <!-- add mocha framework code -->
  <script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js"></script>
  <script is:inline>
    mocha.setup('bdd'); // minimal setup
  </script>
  <!-- add chai -->
  <script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js"></script>
  <script is:inline>
    // chai has a lot of stuff, let's make assert global
    let assert = chai.assert;
  </script>

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <!-- add mocha css, to show results -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css"
    />
  </head>
  <body>
    <Header />
    <main>
      <h1>ğŸ§‘â€ğŸš€ Hello, Astronaut!</h1>
	  
      <!-- the element with id="mocha" will contain test results -->
      <div id="mocha"></div>
	  
    </main>
    <Footer />
</body>
</html>
<script is:inline>
	function pow(x, n) {
		if (n < 0) return NaN;
		if (Math.round(n) != n) return NaN;
	  let result = 1;
	  for (let i = 0; i < n; i++) {
		result *= x;
	  }
	  return result;		
	}
</script>

<!-- the script with tests (describe, it...) -->
<script is:inline src="../../tests/test.js"></script>
<!-- run tests! -->
<script>
//   mocha.run();
</script>
